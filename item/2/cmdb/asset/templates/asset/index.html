
{% extends "base.html" %}
{% load static %}

{% block title %}资源管理{% endblock %}
{% block nav_asset_ops %}active{% endblock %}

{% block style %}
<style type="text/css">
    #table_asset pre {
        border : none !important;
        background-color : transparent !important;
        font-family: sans-serif;
        font-size: 14px;
    }
</style>
{% endblock %}
{% block container %}
<div class="container">
    <table id="table_asset" class="table table-striped table-bordered table-hover table-condensed">
        <thead>
            <tr>
                <th>主机名(IP)</th>
                <th>操作系统(架构)</th>
                <th>内核版本</th>
                <th>CPU信息</th>
                <th>内存</th>
                <th>磁盘信息</th>
                <th>最后更新时间</th>
                <th>备注</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>
{% endblock %}

{% block js %}

jQuery('#table_asset').DataTable({
    "language": {
      "processing": "处理中...",
      "lengthMenu": "显示 _MENU_ 项结果",
      "zeroRecords": "没有匹配结果",
      "info": "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",
      "infoEmpty": "显示第 0 至 0 项结果，共 0 项",
      "infoFiltered": "(由 _MAX_ 项结果过滤)",
      "infoPostFix": "",
      "search": "搜索:",
      "searchPlaceholder": "搜索...",
      "url": "",
      "emptyTable": "表中数据为空",
      "loadingRecords": "载入中...",
      "infoThousands": ",",
      "paginate": {
        "first": "首页",
        "previous": "上页",
        "next": "下页",
        "last": "末页"
      },
      "aria": {
        paginate: {
            first: '首页',
            previous: '上页',
            next: '下页',
            last: '末页'
        },
        "sortAscending": ": 以升序排列此列",
        "sortDescending": ": 以降序排列此列"
      },
      "decimal": "-",
      "thousands": "."
      },
      ajax : {
            url : '{% url 'asset:list_ajax' %}',
            dataSrc: 'result',
      },
      columns : [
        {
            "data" : function(row, type, set, meta){
                return row['name']+'('+row['ip']+')';
            }

        },
        {
            "data" : function(row, type, set, meta){
                return row['os']+'('+row['arch']+')';
            }
        },
        {
            "data" : "kernel"
        },
        {
            "data" : function(row, type, set, meta){
                return '<pre>'+'颗       数: '+row['cpu']+"\n核       数: "+row['cpu_core']+'\n逻辑核数: '+row['cpu_thread']+'</pre>';
            }
        },
        {
            "data" : "mem"
        },
        {
            "data": "disk"

        },
        {
            "data" : "last_time"
        },
        {
            "data" : "remark"
        },
        {
            "data" : function(row){
              return  '<a class="btn btn-xs btn-success btn-caozuo" date-id="{{ asset.id }}"  href="javascript:void(0);">' +'操作'+ '</a>';
            }
        }
      ]




});

{% endblock %}